!function(a){var i={bindEvents:function(){a(document.body).off("updated_wc_div updated_shipping_method",i.loadForm),a(document.body).on("updated_wc_div updated_shipping_method",i.loadForm)},loadForm:function(){var e=i.getForms();_.each(e,function(e){var d=a(e.wrapper);if(d&&d.length){if("calc_shipping"===e.prefix){var n=d.find("#calc_shipping_city_field, #calc_shipping_postcode_field").first();if(n.length)try{var r=wp.template("woogosend-calc-shipping-custom-field");_.each(["address_1","address_2"],function(e){if(!d.find("#calc_shipping_"+e+"_field").first().length){var i=a("#woogosend-calc-shipping-field-value-"+e);if(i&&i.length){var o=_.extend({},i.data("field"),{field:e,value:i.val()});n.before(r(o))}}})}catch(e){console.log("woogosendError",e)}}a(document.body).trigger("woogosend_form_loaded_"+e.prefix,e),a(document.body).trigger("woogosend_form_loaded",e)}})},getForms:function(){return[{wrapper:".woocommerce-billing-fields__field-wrapper",prefix:"billing"},{wrapper:".woocommerce-shipping-fields__field-wrapper",prefix:"shipping"},{wrapper:".shipping-calculator-form",prefix:"calc_shipping"}]},getDefaultFields:function(){try{return JSON.parse(wc_address_i18n_params.locale).default}catch(e){console.log("getDefaultFields",e)}},init:function(){i.bindEvents(),i.loadForm()}};a(document).ready(i.init)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvb2dvc2VuZC1mcm9udGVuZC5taW4uanMiXSwibmFtZXMiOlsiJCIsIndvb2dvc2VuZEZyb250ZW5kRm9ybSIsImJpbmRFdmVudHMiLCJkb2N1bWVudCIsImJvZHkiLCJvZmYiLCJsb2FkRm9ybSIsIm9uIiwiZm9ybXMiLCJnZXRGb3JtcyIsIl8iLCJlYWNoIiwiZm9ybSIsIiR3cmFwcGVyIiwid3JhcHBlciIsImxlbmd0aCIsInByZWZpeCIsIiRmaWVsZFRvQ2xvbmVCZWZvcmUiLCJmaW5kIiwiZmlyc3QiLCJ0ZW1wbGF0ZSIsIndwIiwiZmllbGRLZXkiLCIkZXh0cmFGaWVsZCIsImZpZWxkRGF0YSIsImV4dGVuZCIsImRhdGEiLCJmaWVsZCIsInZhbHVlIiwidmFsIiwiYmVmb3JlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidHJpZ2dlciIsImdldERlZmF1bHRGaWVsZHMiLCJKU09OIiwicGFyc2UiLCJ3Y19hZGRyZXNzX2kxOG5fcGFyYW1zIiwibG9jYWxlIiwiZGVmYXVsdCIsImluaXQiLCJyZWFkeSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBQUMsU0FBU0EsR0FDVixJQUFJQyxFQUF3QixDQUMxQkMsV0FBWSxXQUNWRixFQUFFRyxTQUFTQyxNQUFNQyxJQUFJLHlDQUEwQ0osRUFBc0JLLFVBQ3JGTixFQUFFRyxTQUFTQyxNQUFNRyxHQUFHLHlDQUEwQ04sRUFBc0JLLFdBRXRGQSxTQUFVLFdBQ1IsSUFBSUUsRUFBUVAsRUFBc0JRLFdBRWxDQyxFQUFFQyxLQUFLSCxFQUFPLFNBQVVJLEdBQ3RCLElBQUlDLEVBQVdiLEVBQUVZLEVBQUtFLFNBRXRCLEdBQUtELEdBQWFBLEVBQVNFLE9BQTNCLENBS0EsR0FBb0Isa0JBQWhCSCxFQUFLSSxPQUE0QixDQUNuQyxJQUFJQyxFQUFzQkosRUFBU0ssS0FBSyw0REFBNERDLFFBRXBHLEdBQUlGLEVBQW9CRixPQUN0QixJQUNFLElBQUlLLEVBQVdDLEdBQUdELFNBQVMsd0NBRTNCVixFQUFFQyxLQUFLLENBQUMsWUFBYSxhQUFjLFNBQVVXLEdBQzNDLElBQUlULEVBQVNLLEtBQUssa0JBQW9CSSxFQUFXLFVBQVVILFFBQVFKLE9BQW5FLENBSUEsSUFBSVEsRUFBY3ZCLEVBQUUsd0NBQTBDc0IsR0FFOUQsR0FBS0MsR0FBZ0JBLEVBQVlSLE9BQWpDLENBSUEsSUFBSVMsRUFBWWQsRUFBRWUsT0FBTyxHQUFJRixFQUFZRyxLQUFLLFNBQVUsQ0FDdERDLE1BQU9MLEVBQ1BNLE1BQU9MLEVBQVlNLFFBR3JCWixFQUFvQmEsT0FBT1YsRUFBU0ksUUFFdEMsTUFBT08sR0FDUEMsUUFBUUMsSUFBSSxpQkFBa0JGLElBS3BDL0IsRUFBRUcsU0FBU0MsTUFBTThCLFFBQVEseUJBQTJCdEIsRUFBS0ksT0FBUUosR0FDakVaLEVBQUVHLFNBQVNDLE1BQU04QixRQUFRLHdCQUF5QnRCLE9BR3RESCxTQUFVLFdBQ1IsTUFBTyxDQUFDLENBQ05LLFFBQVMsNkNBQ1RFLE9BQVEsV0FDUCxDQUNERixRQUFTLDhDQUNURSxPQUFRLFlBQ1AsQ0FDREYsUUFBUyw0QkFDVEUsT0FBUSxtQkFHWm1CLGlCQUFrQixXQUNoQixJQUNFLE9BQU9DLEtBQUtDLE1BQU1DLHVCQUF1QkMsUUFBUUMsUUFDakQsTUFBT1QsR0FDUEMsUUFBUUMsSUFBSSxtQkFBb0JGLEtBR3BDVSxLQUFNLFdBQ0p4QyxFQUFzQkMsYUFDdEJELEVBQXNCSyxhQUkxQk4sRUFBRUcsVUFBVXVDLE1BQU16QyxFQUFzQndDLE1BN0V4QyxDQThFRUUiLCJmaWxlIjoid29vZ29zZW5kLWZyb250ZW5kLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKSB7XG52YXIgd29vZ29zZW5kRnJvbnRlbmRGb3JtID0ge1xuICBiaW5kRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudC5ib2R5KS5vZmYoJ3VwZGF0ZWRfd2NfZGl2IHVwZGF0ZWRfc2hpcHBpbmdfbWV0aG9kJywgd29vZ29zZW5kRnJvbnRlbmRGb3JtLmxvYWRGb3JtKTtcbiAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCd1cGRhdGVkX3djX2RpdiB1cGRhdGVkX3NoaXBwaW5nX21ldGhvZCcsIHdvb2dvc2VuZEZyb250ZW5kRm9ybS5sb2FkRm9ybSk7XG4gIH0sXG4gIGxvYWRGb3JtOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZvcm1zID0gd29vZ29zZW5kRnJvbnRlbmRGb3JtLmdldEZvcm1zKCk7XG5cbiAgICBfLmVhY2goZm9ybXMsIGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICB2YXIgJHdyYXBwZXIgPSAkKGZvcm0ud3JhcHBlcik7XG5cbiAgICAgIGlmICghJHdyYXBwZXIgfHwgISR3cmFwcGVyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBhZGRyZXNzXzEgJiBhZGRyZXNzXzIgZmllbGRzIHRvIGNhbGNfc2hpcHBpbmcgZm9ybVxuICAgICAgaWYgKGZvcm0ucHJlZml4ID09PSAnY2FsY19zaGlwcGluZycpIHtcbiAgICAgICAgdmFyICRmaWVsZFRvQ2xvbmVCZWZvcmUgPSAkd3JhcHBlci5maW5kKCcjY2FsY19zaGlwcGluZ19jaXR5X2ZpZWxkLCAjY2FsY19zaGlwcGluZ19wb3N0Y29kZV9maWVsZCcpLmZpcnN0KCk7XG5cbiAgICAgICAgaWYgKCRmaWVsZFRvQ2xvbmVCZWZvcmUubGVuZ3RoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHdwLnRlbXBsYXRlKCd3b29nb3NlbmQtY2FsYy1zaGlwcGluZy1jdXN0b20tZmllbGQnKTtcblxuICAgICAgICAgICAgXy5lYWNoKFsnYWRkcmVzc18xJywgJ2FkZHJlc3NfMiddLCBmdW5jdGlvbiAoZmllbGRLZXkpIHtcbiAgICAgICAgICAgICAgaWYgKCR3cmFwcGVyLmZpbmQoJyNjYWxjX3NoaXBwaW5nXycgKyBmaWVsZEtleSArICdfZmllbGQnKS5maXJzdCgpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciAkZXh0cmFGaWVsZCA9ICQoJyN3b29nb3NlbmQtY2FsYy1zaGlwcGluZy1maWVsZC12YWx1ZS0nICsgZmllbGRLZXkpO1xuXG4gICAgICAgICAgICAgIGlmICghJGV4dHJhRmllbGQgfHwgISRleHRyYUZpZWxkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBmaWVsZERhdGEgPSBfLmV4dGVuZCh7fSwgJGV4dHJhRmllbGQuZGF0YSgnZmllbGQnKSwge1xuICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZEtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJGV4dHJhRmllbGQudmFsKCksXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICRmaWVsZFRvQ2xvbmVCZWZvcmUuYmVmb3JlKHRlbXBsYXRlKGZpZWxkRGF0YSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd3b29nb3NlbmRFcnJvcicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJChkb2N1bWVudC5ib2R5KS50cmlnZ2VyKCd3b29nb3NlbmRfZm9ybV9sb2FkZWRfJyArIGZvcm0ucHJlZml4LCBmb3JtKTtcbiAgICAgICQoZG9jdW1lbnQuYm9keSkudHJpZ2dlcignd29vZ29zZW5kX2Zvcm1fbG9hZGVkJywgZm9ybSk7XG4gICAgfSk7XG4gIH0sXG4gIGdldEZvcm1zOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFt7XG4gICAgICB3cmFwcGVyOiAnLndvb2NvbW1lcmNlLWJpbGxpbmctZmllbGRzX19maWVsZC13cmFwcGVyJyxcbiAgICAgIHByZWZpeDogJ2JpbGxpbmcnXG4gICAgfSwge1xuICAgICAgd3JhcHBlcjogJy53b29jb21tZXJjZS1zaGlwcGluZy1maWVsZHNfX2ZpZWxkLXdyYXBwZXInLFxuICAgICAgcHJlZml4OiAnc2hpcHBpbmcnXG4gICAgfSwge1xuICAgICAgd3JhcHBlcjogJy5zaGlwcGluZy1jYWxjdWxhdG9yLWZvcm0nLFxuICAgICAgcHJlZml4OiAnY2FsY19zaGlwcGluZydcbiAgICB9XTtcbiAgfSxcbiAgZ2V0RGVmYXVsdEZpZWxkczogZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh3Y19hZGRyZXNzX2kxOG5fcGFyYW1zLmxvY2FsZSkuZGVmYXVsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ2dldERlZmF1bHRGaWVsZHMnLCBlcnJvcik7XG4gICAgfVxuICB9LFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgd29vZ29zZW5kRnJvbnRlbmRGb3JtLmJpbmRFdmVudHMoKTtcbiAgICB3b29nb3NlbmRGcm9udGVuZEZvcm0ubG9hZEZvcm0oKTtcbiAgfVxufTtcblxuJChkb2N1bWVudCkucmVhZHkod29vZ29zZW5kRnJvbnRlbmRGb3JtLmluaXQpO1xufShqUXVlcnkpKTtcbiJdfQ==
